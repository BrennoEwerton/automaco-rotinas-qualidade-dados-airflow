# Relatório de Qualidade dos Dados

**Arquivo validado:** microdados_2022.CSV

## Expectativas com falha
- expect_column_values_to_match_regex: {'column': 'CO_MUNICIPIO', 'regex': '^\\d{7}$', 'batch_id': '4cd3468ee5af273ae3fd020419cda46b'} | unexpected_count=9603; unexpected_percent=1.6758606608157847; partial_unexpected_list=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
- expect_column_values_to_be_in_set: {'column': 'TP_GRAU_ACADEMICO', 'value_set': [1, 2, 3, 4], 'batch_id': '4cd3468ee5af273ae3fd020419cda46b'} | unexpected_count=1407; unexpected_percent=0.24554159635195344; partial_unexpected_list=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

## Sugestões (LLM)
**Diagnóstico**
As regras que falharam são relacionadas à validação de valores em colunas específicas:

*   A regra `expect_column_values_to_match_regex` falhou para a coluna `CO_MUNICIPIO`, indicando que alguns valor não atendem ao padrão regular definido (`^\\d{7}$`). Essa restrição espera que os valores sejam strings compostas apenas por 7 dígitos.
*   A regra `expect_column_values_to_be_in_set` falhou para a coluna `TP_GRAU_ACADEMICO`, mostrando que alguns dos valores não estão presentes na lista de valores permitidos (`[1, 2, 3, 4]`). Essa restrição é projetada para verificar se os graus acadêmicos possíveis no conjunto de dados correspondem àqueles listados.

**Sugestões de Ações**

### Regra: `expect_column_values_to_match_regex` para a coluna `CO_MUNICIPIO`

*   Verifique se há atualizações no processamento ou na geração dos dados:
    *   Consulte os logs do processo de geração dos dados recentes. Dificuldades podem estar relacionadas ao fluxo de dados, ao tempo de execução ou até mesmo problemas de formatação durante a transformação dos dados.
*   Analise os dados com valor invalido:
    *   Faça uma distribuição dos dados válidos e inválidos. Quais são as razões mais frequentes para esses valores estar fora do padrão? Há alguma correlação com uma região específica, data ou outra variável?
*   Considere alterar o padrão regular se a situação for excepcional e não apresentar risco de dados comprometidos. Certifique-se que você tenha uma justificativa documentada para essa mudança.
*   Executar scripts de validação adicional para determinar se os dados valem a pena manter sob essa regra.

### Regra: `expect_column_values_to_be_in_set` para a coluna `TP_GRAU_ACADEMICO`

*   Examinar a definição da lista de valores que é passada na configuração para `value_set`. Isso pode não corresponder à realidade, ou foi adicionado um valor com o propósito deliberado.
*   Verificar por uma correlação com valores em outras colunas podem indicar algum erro técnico durante a importação dos dados. Você tem como verificar se esses erros estiveram associados à geração dos dados?
*   Se você determinou que o conjunto de regras da escola foi mudado pela administração, você pode precisar usar uma nova configuração para `value_set`.
*   Considere aplicar ajustes no pipeline de preprocessamento dos dados se os motivos forem relacionados a problemas com os dados de input. Isso seria feito na estrutura que carrega e processa os valores, geralmente feita em um fluxo pré-validação de dado.

Ao trabalhar nessas soluções, é fundamental ter uma visão clara do histórico dos seus dados e entender como elas foram gerais. Além disso, considerar implementar regras mais flexíveis ou adaptáveis que possam lidar com pequenas variações nas entradas, sempre levando em consideração os riscos de erro de entrada para a segurança da qualidade dos dados processados.
